# Context management
压缩上下文时，该压缩哪些。什么时候压缩。

Mask(观察遮蔽) tool 来屏蔽一些工具。；推理结束后，把对话里“tool observation”替换成 短摘要 + refId，并把完整结果存到外部存储（这里用内存 Map 演示，线上换 Redis / DB / KV）


## Resource
* [Agent-Skills-for-Context-Engineering](https://github.com/muratcankoylan/Agent-Skills-for-Context-Engineering/tree/main?tab=readme-ov-file)
  * [Context Optimization Techniques](https://github.com/muratcankoylan/Agent-Skills-for-Context-Engineering/blob/main/skills/context-optimization/SKILL.md)
* [Context Engineering for AI Agents: Lessons from Building Manus](https://manus.im/blog/Context-Engineering-for-AI-Agents-Lessons-from-Building-Manus)
